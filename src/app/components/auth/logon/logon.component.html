<div id="logonContainer">
  <div id="logonSquare">
    <img src="assets/img/logo.png" id="logonLogo" alt="Logo do app" />
    <div id="logonForms">
      <ng-container *ngIf="step === 1">
        <form id="logonForm">
          <div class="logonFormLine">
            <div class="logonFormField bigField">
              <input
                type="text"
                name="logonName"
                class="logonInput bigField"
                placeholder=""
                #logonName
                [(ngModel)]="createSignerUserData.name"
                (blur)="
                  logonService.validateNames(
                    form1Errors,
                    logonName.value,
                    'name'
                  )
                "
              />
              <label class="longonLabel" for="logonName">Nome</label>
              <ng-container *ngIf="form1Errors['name'].active">
                <app-form-error
                  [errorText]="form1Errors['name'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
            <div class="logonFormField bigField">
              <input
                type="text"
                name="logonSurname"
                class="logonInput bigField"
                placeholder=""
                #logonSurname
                [(ngModel)]="createSignerUserData.surname"
                (blur)="
                  logonService.validateNames(
                    form1Errors,
                    logonSurname.value,
                    'surname'
                  )
                "
              />
              <label class="longonLabel" for="logonSurname">Sobrenome </label>
              <ng-container *ngIf="form1Errors['surname'].active">
                <app-form-error
                  [errorText]="form1Errors['surname'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
          </div>
          <div class="logonFormLine">
            <div class="logonFormField">
              <input
                type="text"
                class="logonInput bigField"
                placeholder=""
                name="cpf"
                #cpf
                [(ngModel)]="createSignerUserData.cpf"
                (input)="maskCpf()"
                (blur)="logonService.validateCpf(form1Errors, cpf.value, 'cpf')"
              />
              <label class="longonLabel">CPF </label>
              <ng-container *ngIf="form1Errors['cpf'].active">
                <app-form-error
                  [errorText]="form1Errors['cpf'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
            <div class="logonFormField">
              <input
                type="text"
                class="logonInput bigField"
                placeholder=""
                name="cellphone"
                #cellphone
                [(ngModel)]="createSignerUserData.cellphone"
                (input)="maskPhone()"
                (blur)="
                  logonService.validateCellPhone(
                    form1Errors,
                    cellphone.value,
                    'cellphone'
                  )
                "
              />
              <label class="longonLabel">Telefone </label>
              <ng-container *ngIf="form1Errors['cellphone'].active">
                <app-form-error
                  [errorText]="form1Errors['cellphone'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
          </div>
          <div class="logonFormLine">
            <div class="logonFormField">
              <input
                type="email"
                class="logonInput bigField"
                placeholder=""
                #email
                [(ngModel)]="createSignerUserData.email"
                name="email"
                (blur)="
                  logonService.validateEmail(form1Errors, email.value, 'email')
                "
              />
              <label class="longonLabel">Email </label>
              <ng-container *ngIf="form1Errors['email'].active">
                <app-form-error
                  [errorText]="form1Errors['email'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
            <div class="logonFormField">
              <input
                type="email"
                class="logonInput bigField"
                placeholder=""
                name="confirmEmail"
                #confirmEmailInput
                [(ngModel)]="confirmEmail"
                (blur)="
                  logonService.validateIsEqual(
                    form1Errors,
                    email.value,
                    confirmEmailInput.value,
                    'emailConfirm'
                  )
                "
              />
              <label class="longonLabel">Confirmar Email </label>
              <ng-container *ngIf="form1Errors['emailConfirm'].active">
                <app-form-error
                  [errorText]="form1Errors['emailConfirm'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
          </div>
          <div class="logonFormLine">
            <div class="logonFormField bigField">
              <input
                type="password"
                class="logonInput bigField"
                placeholder=""
                name="password"
                #password
                [(ngModel)]="createSignerUserData.password"
                (blur)="
                  logonService.validatePassword(
                    form1Errors,
                    password.value,
                    'password'
                  )
                "
              />
              <label class="longonLabel">Senha </label>
              <img
                id="seePasswordIcon"
                #seePasswordIcon
                src="assets/icons/seeIcon.svg"
                alt="Icone de um olho"
                title="Mostrar senha"
                (click)="logonUtils.changeInputType(password)"
              />
              <ng-container *ngIf="form1Errors['password'].active">
                <app-form-error
                  [errorText]="form1Errors['password'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
            <div class="logonFormField">
              <input
                type="password"
                class="logonInput bigField"
                placeholder=""
                name="confirmPassword"
                #confirmPasswordInput
                [(ngModel)]="confirmPassword"
                (blur)="
                  logonService.validateIsEqual(
                    form1Errors,
                    password.value,
                    confirmPasswordInput.value,
                    'passwordConfirm'
                  )
                "
              />
              <label class="longonLabel">Confirmar senha</label>

              <ng-container *ngIf="form1Errors['passwordConfirm'].active">
                <app-form-error
                  [errorText]="form1Errors['passwordConfirm'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
          </div>
          <div class="logonFormField">
            <div class="logonFormLine">
              <button type="button" class="logonButton" (click)="goToStep2()">
                Continuar
              </button>
            </div>
          </div>
        </form>
      </ng-container>
      <ng-container *ngIf="step === 2">
        <form id="logonForm">
          <div class="logonFormLine">
            <div class="logonFormField bigField">
              <input
                type="text"
                name="logonCompanyName"
                class="logonInput largeInput"
                placeholder=""
                #logonCompanyName
                [(ngModel)]="createSignerUserData.companyPerson.name"
                (blur)="
                  logonService.validateCompanyName(
                    form2Errors,
                    logonCompanyName.value,
                    'name'
                  )
                "
              />
              <label class="longonLabel" for="logonCompanyName"
                >Nome da empresa
              </label>
              <ng-container *ngIf="form2Errors['name'].active">
                <app-form-error
                  [errorText]="form2Errors['name'].errorText"
                ></app-form-error>
              </ng-container>
            </div>
            <div class="logonFormField">
              <select
                name="personType"
                id="personType"
                class="logonSelect mediumField"
                #personType
                [(ngModel)]="createSignerUserData.companyPerson.personType"
                (blur)="
                  logonService.validatePersonType(
                    form2Errors,
                    personType.value,
                    'personType'
                  )
                "
              >
                <option value="j">Jurídica</option>
                <option value="f">Física</option>
              </select>
              <label class="longonLabel" for="logonSurname"
                >Tipo de pessoa</label
              >
            </div>
          </div>
          <div class="logonFormLine">
            <button type="button" (click)="step = 1" class="logonButton">
              Voltar
            </button>
            <button type="button" (click)="gotoStep3()" class="logonButton">
              Cadastrar-se
            </button>
          </div>
        </form>
      </ng-container>
    </div>
  </div>
</div>
<ng-container *ngIf="termsSign">
  <app-terms-sign
    [roleId]="2"
    (cancelEmitter)="termsSign = false"
    (continueEmmitter)="subscribe($event)"
  ></app-terms-sign>
</ng-container>
